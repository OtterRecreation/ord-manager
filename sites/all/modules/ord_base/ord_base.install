<?php

function ord_base_schema() {

	$schema['ord_manager_assets'] = ord_manager_assets_table();
	$schema['ord_manager_events'] = ord_manager_events_table();

	return $schema;
}


//the table used for the assets (items)
function ord_manager_assets_table() {
	return array(
		'description' => 'This table is used to keep track of any physical items of the Ord Manager system',
	    'fields' => array(
		      'id' => array(
			        'description' => 'The primary identifier for the table.',
			        'type' => 'serial',
			        'unsigned' => TRUE,
			        'not null' => TRUE,
		      ),
		      'name' => array(
			        'description' => 'The name of the item',
			        'type' => 'varchar',
			        'length' => 250,
			        'not null' => TRUE,
			        'default' => '',
		      ),
		      'description' => array(
			        'description' => 'A field for storing the description of the items',
			        'type' => 'varchar',
			        'length' => 250,
			        'not null' => TRUE,
			        'default' => '',
		      ),
		      'retail_price' => array(
			        'description' => 'A field for storing longer strings of text.',
			        'type' => 'float',
			        'not null' => FALSE,
		      ),
		      'extra' => array(
			      	'description' => 'Holds JSON data ',
			      	'type' => 'text',
			      	'not null' => TRUE,
		      ),
		      'created_at' => array(
		      		'description' => 'Keeps track of the date / time of when the asset was created',
		      		'mysql_type' => 'DATETIME',
		      		'type' => 'datetime',
		      		'not null' => TRUE,
		      )
	    ),
	    'indexes' => array(
	      'ord_inventory_items_id' => array('id'),
	    ),
	    'primary key' => array('id'),
	);
}

//the table used for the events
function ord_manager_events_table() {
	return array(
		'description' => 'This table is used to keep track of any events of the Ord Manager system',
	    'fields' => array(
		      'id' => array(
			        'description' => 'The primary identifier for the table.',
			        'type' => 'serial',
			        'unsigned' => TRUE,
			        'not null' => TRUE,
		      ),
		      'name' => array(
			        'description' => 'The name of the event',
			        'type' => 'varchar',
			        'length' => 250,
			        'not null' => TRUE,
			        'default' => '',
		      ),
		      'description' => array(
			        'description' => 'A field for storing the description of the events',
			        'type' => 'varchar',
			        'length' => 250,
			        'not null' => TRUE,
			        'default' => '',
		      ),
		      'event_price' => array(
			        'description' => 'A field for storing longer strings of text.',
			        'type' => 'float',
			        'not null' => FALSE,
		      ),
		      'extra' => array(
			      	'description' => 'Holds JSON data',
			      	'type' => 'text',
			      	'not null' => TRUE,
		      ),
		      'created_at' => array(
		      		'description' => 'Keeps track of the date / time of when the asset was created',
		      		'type' => 'datetime',
		      		'mysql_type' => 'DATETIME',
		      		'not null' => TRUE,
		      )
	    ),
	    'indexes' => array(
	      'ord_inventory_items_id' => array('id'),
	    ),
	    'primary key' => array('id'),
	);
}